name: CI

on: [push]

jobs:
    build-test:
        runs-on: ubuntu-latest

        steps:
            - uses: actions/checkout@v3

            - name: Setup PHP with PECL extension
              uses: shivammathur/setup-php@v2
              with:
                  php-version: "7.4"
                  extensions: imagick, swoole

            - name: Instal dependencies
              uses: php-actions/composer@v6

            - name: Phpunit tests
              uses: php-actions/phpunit@v3
